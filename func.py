import math


def menu():
    print("\nВыберите ряд для вычисления:"
    "\n1. Ряд для косинуса (cos(x))"
    "\n2. Ряд для арктангенса (arctan(x))"
    "\n4. Выход"
          )


def cos_series(x, terms=10):
    """Вычисляет приближенное значение косинуса с использованием ряда Тейлора.

        Подробное описание:
        Функция использует ряд Тейлора для вычисления приближенного значения косинуса.
        Чем больше количество членов ряда, тем точнее будет результат.

        Args:
            x (float): Значение, для которого вычисляется косинус.
            terms (int): Количество членов ряда для вычисления (по умолчанию 10).

        Returns:
            float: Приближенное значение косинуса для заданного x.

        Raises:
            ValueError: Если количество членов ряда меньше 1.

        Examples:
            --> +cos_series(0)
            1.0
            --> cos_series(math.pi/3, terms=5)
            0.5000000000000001
        """
    result = 0
    for n in range(terms):
        result += ((-1) ** n) * (x ** (2 * n)) / math.factorial(2 * n)
    return result


def arctan_series(x, terms=10):
    """Вычисляет приближенное значение арктангенса с использованием ряда Тейлора.

        Подробное описание:
        Функция использует ряд Тейлора для вычисления приближенного значения арктангенса.
        Чем больше количество членов ряда, тем точнее будет результат.

        Args:
            x (float): Значение, для которого вычисляется арктангенс.
            terms (int): Количество членов ряда для вычисления (по умолчанию 10).

        Returns:
            float: Приближенное значение арктангенса для заданного x.

        Raises:
            ValueError: Если количество членов ряда меньше 1.

        Examples:
            --> arctan_series(1)
            0.7853981633974483
            --> arctan_series(0.5, terms=5)
            0.46364760900080615
        """
    result = 0
    for n in range(terms):
        result += ((-1) ** n) * (x ** (2 * n + 1)) / (2 * n + 1)
    return result


def main():
    while True:
        menu()
        choice = input("Выберите опцию (1-4): ")

        if choice == "1":
            try:
                x = float(input("Введите значение x для cos(x): "))
                terms = int(input("Введите количество членов для приближенного вычисления: "))
                print(f"cos({x}) ≈ {cos_series(x, terms)}")
            except ValueError:
                print("Введите корректные данные!")

        elif choice == "2":
            try:
                x = float(input("Введите значение x для arctan(x): "))
                terms = int(input("Введите количество членов для приближенного вычисления: "))
                print(f"arctan({x}) ≈ {arctan_series(x, terms)}")
            except ValueError:
                print("Введите корректные данные!")


        elif choice == "4":
            print("Выход из программы.")
            break
        else:
            print("Некорректный ввод. Пожалуйста, выберите правильный вариант.")



if __name__ == "__main__":
    main()
